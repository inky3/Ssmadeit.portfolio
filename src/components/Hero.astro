---
interface Props {
  title?: string;
  subtitle?: string;
  personImage?: string; // optional override
  height?: string;
}

const {
  title = "Thanaphonchai",
  subtitle = "3D • Motion • Graphic • Animation",
  personImage,                // no default here
  height = "92vh",
} = Astro.props as Props;

// ✅ Works locally AND on GitHub Pages with base path
const base = import.meta.env.BASE_URL || "/";
const personSrc = personImage || `${base}profile.png`;
---

<section style={`position:relative;min-height:${height};background:#06181f;display:flex;align-items:center;`}>
  <div class="container" style="padding-top:120px;padding-bottom:72px;position:relative;z-index:2;">
    <h1 class="h1" style="color:#e9edf2;margin-bottom:8px;">{title}</h1>
    <p class="lead" style="color:#9fb4bd;margin-bottom:24px;">{subtitle}</p>

    <div style="display:flex;gap:12px;flex-wrap:wrap;">
      <a class="btn-dark" href="#contact" style="backdrop-filter:saturate(130%) blur(2px)">Contact</a>
      <a class="btn-dark btn-bg-soft" href="/cv.pdf" target="_blank" rel="noopener">Download CV</a>
    </div>
  </div>

  <!-- Person image -->
  <img src={personSrc} alt="Profile"
       style="
         position:absolute;
         right:6vw;
         bottom:0;
         height:100%;
         max-height:100%;
         object-fit:contain;
         object-position:right bottom;
         pointer-events:none;
       " />

  <!-- Soft spotlight -->
  <div style="
    position:absolute; right:0; bottom:0; width:45%; height:100%;
    background: radial-gradient(circle at 70% 50%, rgba(255,255,255,0.12), transparent 60%);
    pointer-events:none;
  "></div>
</section>
